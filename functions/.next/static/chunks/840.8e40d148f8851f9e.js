"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[840],{5531:function(e,t,a){a.d(t,{Z:function(){return d}});var r=a(2265);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()),l=e=>{let t=o(e);return t.charAt(0).toUpperCase()+t.slice(1)},s=(...e)=>e.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,r.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:n,className:o="",children:l,iconNode:c,...d},g)=>(0,r.createElement)("svg",{ref:g,...i,width:t,height:t,stroke:e,strokeWidth:n?24*Number(a)/Number(t):a,className:s("lucide",o),...d},[...c.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(l)?l:[l]])),d=(e,t)=>{let a=(0,r.forwardRef)(({className:a,...o},i)=>(0,r.createElement)(c,{ref:i,iconNode:t,className:s(`lucide-${n(l(e))}`,`lucide-${e}`,a),...o}));return a.displayName=l(e),a}},1291:function(e,t,a){a.d(t,{Z:function(){return n}});var r=a(5531);let n=(0,r.Z)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},1840:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var r=a(7437),n=a(7120),o=a(2265),l=a(5531);let s=(0,l.Z)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);var i=a(1291);let c=(0,l.Z)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var d=a(1424);let g=["09:00 AM","10:00 AM","11:00 AM","02:00 PM","03:00 PM","04:00 PM"],u=e=>{let t=e.match(/(\d+):(\d+)\s*(AM|PM)/i);if(!t)return console.error("Invalid time format:",e),"00:00";let a=parseInt(t[1],10),r=t[2],n=t[3].toUpperCase();return 12===a?a="AM"===n?0:12:"PM"===n&&(a+=12),"".concat(a.toString().padStart(2,"0"),":").concat(r)};var m=()=>{let[e,t]=(0,o.useState)(()=>{let e=new Date;return e.setHours(0,0,0,0),e}),[l,m]=(0,o.useState)(""),[h,p]=(0,o.useState)(()=>{let e=new Date;return e.setHours(0,0,0,0),new Date(e.getFullYear(),e.getMonth(),1)}),[w,x]=(0,o.useState)(!1),{daysInMonth:f,firstDayOfMonth:b}=(e=>{let t=e.getFullYear(),a=e.getMonth(),r=new Date(t,a+1,0).getDate(),n=new Date(t,a,1).getDay();return{daysInMonth:r,firstDayOfMonth:n}})(h),y=e=>{let a=new Date(h.getFullYear(),h.getMonth(),e);a.setHours(0,0,0,0);let r=new Date;if(r.setHours(0,0,0,0),a<r){d.toast.error("Cannot select a past date.");return}t(a)},v=e=>{p(t=>{let a=new Date(t.getFullYear(),t.getMonth()+e,1);return a.setHours(0,0,0,0),a})},k=async()=>{if(!e||!l){d.toast.error("Please select a date and time slot.");return}x(!0);try{let n=(await Promise.all([a.e(107),a.e(370),a.e(307)]).then(a.bind(a,910))).default,o=(await Promise.resolve().then(a.t.bind(a,4040,19))).default,s=document.createElement("div");s.className="fixed inset-0 bg-black/50 flex items-center justify-center z-50";let i=document.createElement("div");s.appendChild(i),document.body.appendChild(s);let c=()=>{document.body.contains(s)&&document.body.removeChild(s),x(!1)},g=async a=>{x(!0);let r=null,n=null;try{var o,s;let i="";if(e instanceof Date)i="".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"),"-").concat(String(e.getDate()).padStart(2,"0"));else{console.error("Selected date is not a Date object:",e),d.toast.error("Invalid date selected. Please try again."),c();return}let g=u(l);console.log("Formatted Date:",i,"Converted Time:",g);let h="https://europe-west1-scailertest-37078.cloudfunctions.net";console.log("Using Firebase Functions base URL:",h),console.log("Calling calendarPrecise function...");let p=await fetch("".concat(h,"/calendarPrecise"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({formData:a,selectedDate:i,selectedTime:g})}),w=await p.text();if(console.log("Raw calendar response:",{status:p.status,text:w.substring(0,200)}),!p.ok)throw Error("Calendar function failed: ".concat(p.status," - ").concat(w.substring(0,100)));try{r=JSON.parse(w),console.log("Calendar function success:",r)}catch(e){throw Error("Invalid JSON from calendar function")}if(null===(o=r)||void 0===o?void 0:o.htmlLink){console.log("Calling sendBookingEmails function...");let e={formData:a,selectedDate:i,selectedTime:g,calendarLink:r.htmlLink},t=await fetch("".concat(h,"/sendBookingEmails"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),o=await t.text();if(console.log("Raw email response:",{status:t.status,text:o.substring(0,200)}),t.ok)try{n=JSON.parse(o),console.log("Email function success:",n),d.toast.success("Booking successful! Check your calendar and email.")}catch(e){console.error("Invalid JSON from email function"),d.toast.warning("Booking scheduled, but confirmation email response was invalid.")}else console.error("Email function failed: ".concat(t.status," - ").concat(o.substring(0,100))),d.toast.error("Booking scheduled, but failed to send confirmation email.")}else d.toast.error("Booking failed: Calendar link missing.");(null===(s=r)||void 0===s?void 0:s.htmlLink)&&(t(new Date),m(""),c())}catch(e){console.error("Error during booking submission:",e),d.toast.error("Booking failed: ".concat(e.message||"Please try again.")),c()}},h=o.createRoot(i);h.render((0,r.jsx)(n,{selectedDate:e,selectedTime:l,onClose:c,onSubmit:g}))}catch(e){console.error("Error dynamically loading or rendering booking form:",e),d.toast.error("Failed to load booking form. Please refresh and try again."),x(!1)}};return(0,r.jsxs)("section",{id:"booking-interface",className:"py-20 bg-scailer-darker",children:[(0,r.jsx)(d.Toaster,{position:"top-center",richColors:!0}),(0,r.jsxs)("div",{className:"container mx-auto px-4",children:[(0,r.jsxs)(n.E.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[(0,r.jsx)("h2",{className:"text-4xl font-bold mb-4",children:"Book a Strategy Session"}),(0,r.jsx)("p",{className:"text-white/80 max-w-2xl mx-auto",children:"Schedule a one-on-one consultation with our scaling experts."})]}),(0,r.jsxs)("div",{className:"max-w-4xl mx-auto grid md:grid-cols-2 gap-8",children:[(0,r.jsxs)(n.E.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"bg-scailer-light p-6 rounded-xl",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("button",{onClick:()=>v(-1),className:"p-2 hover:bg-scailer-dark rounded-lg transition-colors",disabled:h<=new Date(new Date().getFullYear(),new Date().getMonth(),1)&&h.getFullYear()===new Date().getFullYear()&&h.getMonth()===new Date().getMonth(),children:(0,r.jsx)(i.Z,{className:"w-5 h-5"})}),(0,r.jsx)("h3",{className:"text-lg font-medium",children:h.toLocaleString("default",{month:"long",year:"numeric"})}),(0,r.jsx)("button",{onClick:()=>v(1),className:"p-2 hover:bg-scailer-dark rounded-lg transition-colors",children:(0,r.jsx)(c,{className:"w-5 h-5"})})]}),(0,r.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(e=>(0,r.jsx)("div",{className:"text-center text-white/60 text-sm py-2",children:e},e))}),(0,r.jsxs)("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:b}).map((e,t)=>(0,r.jsx)("div",{className:"p-2"},"empty-".concat(t))),Array.from({length:f}).map((t,a)=>{let o=a+1,l=new Date(h.getFullYear(),h.getMonth(),o);l.setHours(0,0,0,0);let s=new Date;s.setHours(0,0,0,0);let i=l<s,c=e&&e.getDate()===o&&e.getMonth()===h.getMonth()&&e.getFullYear()===h.getFullYear(),d=s.getDate()===o&&s.getMonth()===h.getMonth()&&s.getFullYear()===h.getFullYear();return(0,r.jsx)(n.E.button,{whileHover:{scale:i?1:1.1},whileTap:{scale:i?1:.95},onClick:()=>!i&&y(o),disabled:i,className:"p-2 rounded-lg text-center ".concat(c&&!i?"bg-scailer-green text-white":d&&!i?"border border-scailer-green text-scailer-green":i?"text-white/30 cursor-not-allowed":"hover:bg-scailer-dark"),children:o},o)})]})]}),(0,r.jsxs)(n.E.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"bg-scailer-light p-6 rounded-xl flex flex-col",children:[(0,r.jsxs)("h3",{className:"text-lg font-medium mb-4 flex items-center gap-2",children:[(0,r.jsx)(s,{className:"w-5 h-5 text-scailer-green"}),"Select a Time"]}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-3 flex-grow mb-6",children:g.map(e=>(0,r.jsx)(n.E.button,{whileHover:{scale:1.05},whileTap:{scale:.98},onClick:()=>m(e),className:"p-3 rounded-lg text-center transition-colors ".concat(l===e?"bg-scailer-green text-white":"bg-scailer-dark hover:bg-scailer-dark/70"),children:e},e))}),(0,r.jsx)(n.E.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:k,disabled:!e||!l||w,className:"w-full mt-auto p-4 rounded-lg text-lg font-bold transition-all ".concat(e&&l&&!w?"bg-scailer-green text-white hover:bg-scailer-green/90":"bg-gray-600 text-gray-400 cursor-not-allowed"),children:w?"Processing...":"Confirm Booking"})]})]})]})]})}}}]);