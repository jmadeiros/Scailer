"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[894],{1894:function(e,t,r){r.r(t),r.d(t,{default:function(){return x}});var n=r(7437),s=r(2265),o=r(6154),i=r(8380),a=r(7355),c=r(229),l=r(2461),u=r(2860),p=r(3708),d=r(8289),g=r(4008);function h(e){let{frontImage:t="/assets/default_front.jpg",backImage:r="/assets/default_back.jpg",lanyardTexture:o="/assets/Screenshot 2025-04-20 214807.png",position:i=[0,0,0],maxSpeed:a=50,minSpeed:g=10}=e,h=(0,s.useRef)(),m=(0,s.useRef)(),y=(0,s.useRef)(),f=(0,s.useRef)(),x=(0,s.useRef)(),b=(0,s.useRef)(),j=(0,s.useRef)(),w=(0,s.useRef)(),P=(0,s.useRef)(),v=new l.Pa4,E=new l.Pa4,S=new l.Pa4,M=new l.Pa4,R={type:"dynamic",canSleep:!0,colliders:!1,angularDamping:.5,linearDamping:.5},{nodes:k,materials:I}=(0,p.L)("https://assets.vercel.com/image/upload/contentful/image/e5382hct74si/5huRVDzcoDwnbgrKUo1Lzs/53b6dd7d6b4ffcdbd338fa60265949e1/tag.glb"),D=(0,d.mE)(o),L=(0,d.mE)(t),z=(0,d.mE)(r),[C,T]=(0,s.useState)(!1),[_,A]=(0,s.useState)(!1),[B,N]=(0,s.useState)(0),[V,O]=(0,s.useState)(0),[W,X]=(0,s.useState)(!0),[U,F]=(0,s.useState)(!1),[G,K]=(0,s.useState)(0),[q,Y]=(0,s.useState)(!1),[H,J]=(0,s.useState)(!1),{width:Q,height:Z}=(0,u.D)(e=>e.size),[$]=(0,s.useState)(()=>new l.YT8([new l.Pa4,new l.Pa4,new l.Pa4,new l.Pa4]));return(0,s.useEffect)(()=>{L&&(L.rotation=Math.PI,L.center.set(.5,.5),t.includes("WhatsApp")||t.includes("george")?(L.repeat.set(1.2,1.2),L.offset.set(-.27,-.15)):(L.repeat.set(1.25,.92),L.offset.set(-.17,-.05)))},[L,t]),(0,s.useEffect)(()=>{z&&(z.rotation=Math.PI,z.center.set(.5,.5),z.repeat.set(1.8,1.3),z.offset.set(.4,-.35),z.repeat.x*=-1)},[z]),(0,s.useEffect)(()=>{P.current&&(P.current.rotation.y=Math.PI)},[]),(0,s.useEffect)(()=>{if(H)return document.body.style.cursor=q?"grabbing":"grab",()=>void(document.body.style.cursor="auto")},[H,q]),(0,c.XE)(m,y,[[0,0,0],[0,0,0],1]),(0,c.XE)(y,f,[[0,0,0],[0,0,0],1]),(0,c.XE)(f,x,[[0,0,0],[0,0,0],1]),(0,c.Ad)(x,b,[[0,0,0],[0,1.45,0]]),(0,u.F)((e,t)=>{var r,n;if(q&&(v.set(e.pointer.x,e.pointer.y,.5).unproject(e.camera),M.copy(v).sub(e.camera.position).normalize(),v.add(M.multiplyScalar(e.camera.position.length())),[b,y,f,x,m].forEach(e=>{var t;return null===(t=e.current)||void 0===t?void 0:t.wakeUp()}),null===(r=b.current)||void 0===r||r.setNextKinematicTranslation({x:v.x-q.x,y:v.y-q.y,z:v.z-q.z})),_&&j.current){let e=j.current.rotation.y,r=5*t;Math.abs(e-B)>r?j.current.rotation.y+=B>e?r:-r:(j.current.rotation.y=B,A(!1))}U&&b.current&&(G>.1?(b.current.applyImpulse({x:0,y:G,z:0}),K(.92*G)):(F(!1),K(0))),m.current&&y.current&&f.current&&x.current&&b.current&&([y,f].forEach(e=>{e.current.lerped||(e.current.lerped=new l.Pa4().copy(e.current.translation()));let r=Math.max(.1,Math.min(1,e.current.lerped.distanceTo(e.current.translation())));e.current.lerped.lerp(e.current.translation(),t*(g+r*(a-g)))}),$.points[0].copy(x.current.translation()),$.points[1].copy(f.current.lerped),$.points[2].copy(y.current.lerped),$.points[3].copy(m.current.translation()),(null===(n=h.current)||void 0===n?void 0:n.geometry)&&h.current.geometry.setPoints($.getPoints(32)),E.copy(b.current.angvel()),S.copy(b.current.rotation()),b.current.setAngvel({x:E.x,y:E.y-.25*S.y,z:E.z}))}),$.curveType="chordal",D.wrapS=D.wrapT=l.rpg,(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("group",{position:[i[0],4,i[2]],children:[(0,n.jsx)(c.ib,{ref:m,...R,type:"fixed"}),(0,n.jsx)(c.ib,{position:[.5,0,0],ref:y,...R,children:(0,n.jsx)(c.dp,{args:[.1]})}),(0,n.jsx)(c.ib,{position:[1,0,0],ref:f,...R,children:(0,n.jsx)(c.dp,{args:[.1]})}),(0,n.jsx)(c.ib,{position:[1.5,0,0],ref:x,...R,children:(0,n.jsx)(c.dp,{args:[.1]})}),(0,n.jsxs)(c.ib,{position:[2,0,0],ref:b,...R,type:q?"kinematicPosition":"dynamic",children:[(0,n.jsx)(c.jc,{args:[.8,1.125,.01]}),(0,n.jsxs)("group",{scale:2.25,position:[0,-1.2,-.05],onPointerOver:()=>J(!0),onPointerOut:()=>J(!1),onPointerUp:e=>{let t=e.target;(null==t?void 0:t.releasePointerCapture)&&t.releasePointerCapture(e.pointerId),Y(!1)},onPointerDown:e=>{let t=e.target;(null==t?void 0:t.setPointerCapture)&&t.setPointerCapture(e.pointerId),Y(new l.Pa4().copy(e.point).sub(v.copy(b.current.translation())))},children:[(0,n.jsxs)("group",{ref:j,children:[(0,n.jsx)("mesh",{ref:w,geometry:k.card.geometry,renderOrder:0,children:(0,n.jsx)("meshPhysicalMaterial",{map:L,color:t.includes("joshnew2.jpg")?12632256:16777215,"map-anisotropy":16,clearcoat:.5,clearcoatRoughness:.15,roughness:.5,metalness:.5})}),(0,n.jsx)("mesh",{ref:P,geometry:k.card.geometry,renderOrder:0,children:(0,n.jsx)("meshPhysicalMaterial",{map:z,"map-anisotropy":32,clearcoat:.5,clearcoatRoughness:.1,roughness:.2,metalness:.6})})]}),(0,n.jsx)("mesh",{geometry:k.clip.geometry,material:I.metal,"material-roughness":.3}),(0,n.jsx)("mesh",{geometry:k.clamp.geometry,material:I.metal})]})]})]}),(0,n.jsxs)("mesh",{ref:h,children:[(0,n.jsx)("meshLineGeometry",{}),(0,n.jsx)("meshLineMaterial",{color:"white",depthTest:!1,resolution:[Q,Z],useMap:!0,map:D,repeat:[-3,1],lineWidth:1})]})]})}(0,u.e)({MeshLineGeometry:g.Rt,MeshLineMaterial:g.r7});var m=r(8864),y=r.n(m);let f=y()(()=>Promise.resolve(e=>{let{children:t}=e;return(0,n.jsx)(o.Xz,{camera:{position:[0,0,13],fov:25},gl:{alpha:!0},style:{background:"transparent",pointerEvents:"auto"},onCreated:e=>{let{gl:t}=e;t.setClearAlpha(0)},flat:!0,children:t})}),{ssr:!1});function x(e){let{zIndex:t=0,transparent:r=!0,showDebug:o=!1,cardSettings:l={position1:[-4.5,.5,0],position2:[4.5,.5,0]},isVisible:u}=e,[p,d]=(0,s.useState)(!1),[g,m]=(0,s.useState)(!1);console.log("[LanyardBackground] Rendering. Received isVisible: ".concat(u,", shouldRender3D: ").concat(p)),(0,s.useEffect)(()=>{let e=()=>{m(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,s.useEffect)(()=>{console.log("[LanyardBackground] Effect running. isVisible prop is: ".concat(u));let e=null;return u&&!p&&(console.log("[LanyardBackground] isVisible is true. Starting 2.2-second timer to enable 3D rendering..."),e=setTimeout(()=>{console.log("[LanyardBackground] 2.2s timer finished. Enabling 3D rendering (setting shouldRender3D to true)."),d(!0)},2200)),()=>{e&&(console.log("[LanyardBackground] Cleanup: Clearing visibility timer."),clearTimeout(e))}},[u]);let y=[l.position1?l.position1[0]:-4,10,l.position1?l.position1[2]:0],x=[l.position2?l.position2[0]:4,10,l.position2?l.position2[2]:0];return(0,n.jsxs)("div",{className:"absolute inset-0 w-full h-full",style:{zIndex:t,pointerEvents:"none",background:"transparent"},children:[o&&(0,n.jsxs)("div",{className:"absolute top-0 right-0 z-50 bg-black bg-opacity-50 text-white p-2 text-sm pointer-events-auto",children:["3D Debug (isVisible: ",u.toString(),", shouldRender: ",p.toString(),", isMobile: ",g.toString(),")"]}),p&&!g&&(0,n.jsxs)(f,{children:[(0,n.jsx)("ambientLight",{intensity:1}),(0,n.jsx)("directionalLight",{position:[10,10,5],intensity:1.5}),(0,n.jsx)("directionalLight",{position:[-10,-10,-5],intensity:.5}),(0,n.jsxs)(c.wI,{interpolate:!0,gravity:[0,-40,0],timeStep:1/60,children:[(0,n.jsx)(h,{position:y,frontImage:"/assets/joshnew2.jpg",backImage:"/assets/Screenshot 2025-04-25 200507.png"}),(0,n.jsx)(h,{position:x,frontImage:"/assets/WhatsApp Image 2025-04-25 at 16.17.59_8c138974.jpg",backImage:"/assets/03fb0590-bd58-411f-842b-b0896b93e88c.png"})]}),(0,n.jsxs)(i.qA,{preset:"city",blur:.5,children:[(0,n.jsx)(a.D,{intensity:2,color:"white",position:[0,-1,5],rotation:[0,0,Math.PI/3],scale:[100,.1,1]}),(0,n.jsx)(a.D,{intensity:3,color:"white",position:[-1,-1,1],rotation:[0,0,Math.PI/3],scale:[100,.1,1]}),(0,n.jsx)(a.D,{intensity:3,color:"white",position:[1,1,1],rotation:[0,0,Math.PI/3],scale:[100,.1,1]}),(0,n.jsx)(a.D,{intensity:10,color:"white",position:[-10,0,14],rotation:[0,Math.PI/2,Math.PI/3],scale:[100,10,1]})]})]})]})}}}]);